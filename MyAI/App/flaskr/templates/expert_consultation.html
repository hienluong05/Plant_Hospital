<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Expert consultation - Plant Hospital</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #d0f3e6 0%, #a2c5f4 100%);
        min-height: 100vh;
      }
      .navbar-brand {
        font-weight: 700;
        color: #4caf50 !important;
        font-size: 2rem;
        letter-spacing: 1px;
      }
      .nav-link.active,
      .nav-link:hover {
        color: #4caf50 !important;
      }
      .hero-section {
        background: linear-gradient(100deg, #4caf50 35%, #ff9800 100%);
        color: white;
        padding: 72px 0 60px 0;
        text-align: center;
        position: relative;
        overflow: hidden;
      }
      .hero-section .hero-shape {
        position: absolute;
        right: -100px;
        bottom: -100px;
        width: 350px;
        opacity: 0.11;
        z-index: 0;
      }
      .hero-content {
        position: relative;
        z-index: 2;
      }
      .hero-title {
        font-size: 2.8rem;
        font-weight: 700;
        margin-bottom: 18px;
      }
      .hero-desc {
        font-size: 1.2rem;
        margin-bottom: 32px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }
      .hero-btns .btn {
        font-size: 1.1rem;
        padding: 15px 36px;
        border-radius: 25px;
        margin: 0 8px 12px 8px;
      }
      .hero-btns .btn-primary {
        background: #ff9800;
        border: none;
      }
      .hero-btns .btn-primary:hover {
        background: #fb8c00;
      }
      .hero-btns .btn-outline-light {
        border-color: #fff;
        color: #fff;
      }
      .hero-btns .btn-outline-light:hover {
        background: #fff;
        color: #4caf50;
      }
      /* ==== Dịch vụ card chỉnh nút ==== */
      .service-card {
        border: none;
        border-radius: 18px;
        box-shadow: 0 6px 32px rgba(76, 175, 80, 0.08);
        transition: transform 0.18s;
        background: white;
      }
      .service-card:hover {
        transform: translateY(-7px) scale(1.03);
        box-shadow: 0 12px 32px rgba(255, 152, 0, 0.15);
      }
      .service-icon {
        font-size: 2.5rem;
        color: #4caf50;
        margin-bottom: 10px;
      }
      .service-price {
        font-weight: 600;
        color: #ff9800;
        font-size: 1.2rem;
        margin-bottom: 8px;
      }
      .service-features {
        list-style: none;
        padding: 0;
        margin-bottom: 18px;
      }
      .service-features li {
        margin-bottom: 7px;
        color: #666;
        font-size: 0.98rem;
      }
      .service-features i {
        color: #4caf50;
        margin-right: 7px;
      }
      /* ==== Chỉnh nút dịch vụ giống, thẳng hàng ==== */
      .service-action-row {
        display: flex;
        align-items: stretch;
        justify-content: stretch;
        height: 56px;
        margin-top: 18px;
      }
      .service-btn-unify {
        width: 100%;
        height: 100%;
        font-size: 1.1rem;
        font-weight: 600;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.18s, color 0.18s, border 0.18s;
        /* Tránh margin-collapse */
        margin: 0;
      }
      .service-btn-unify.service-btn-green {
        background: #388e3c;
        color: #fff;
        border: none;
      }
      .service-btn-unify.service-btn-green:hover {
        background: #256427;
        color: #fff;
      }
      .service-btn-unify.service-btn-outline {
        background: #fff;
        color: #388e3c;
        border: 2px solid #388e3c;
      }
      .service-btn-unify.service-btn-outline:hover {
        background: #388e3c;
        color: #fff;
      }
      .service-btn-unify.service-btn-yellow {
        background: #ffca55;
        color: #fff;
        border: none;
      }
      .service-btn-unify.service-btn-yellow:hover {
        background: #ffaa00;
        color: #fff;
      }
      /* Stepper, modal, chat widget, footer giữ nguyên */
      .stepper .step {
        text-align: center;
        padding: 30px 16px;
        position: relative;
      }
      .step-number {
        width: 48px;
        height: 48px;
        background: #4caf50;
        color: #fff;
        border-radius: 50%;
        font-size: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 10px auto;
        font-weight: 700;
        box-shadow: 0 3px 12px #4caf5040;
      }
      .step-title {
        font-weight: 600;
        font-size: 1.13rem;
        margin-bottom: 7px;
      }
      .step-desc {
        color: #555;
        font-size: 1rem;
      }
      .modal-header {
        background: #4caf50;
        color: white;
        border-radius: 18px 18px 0 0;
      }
      .modal-title {
        font-weight: 600;
      }
      .form-label {
        font-weight: 500;
        color: #388e3c;
      }
      .chat-widget {
        position: fixed;
        bottom: 24px;
        right: 24px;
        z-index: 2000;
      }
      .chat-widget .btn {
        width: 58px;
        height: 58px;
        border-radius: 50%;
        font-size: 2rem;
        box-shadow: 0 2px 10px #4caf5070;
        background: #4caf50;
        color: #fff;
      }
      .chat-widget .btn:hover {
        background: #388e3c;
      }
      .footer {
        background: #f8f9fa;
        color: #555;
        padding: 32px 0 0 0;
        margin-top: 60px;
      }
      .footer .social-link {
        color: #4caf50;
        font-size: 1.3rem;
        margin-right: 18px;
        transition: color 0.18s;
      }
      .footer .social-link:hover {
        color: #ff9800;
      }
      @media (max-width: 991px) {
        .hero-title {
          font-size: 2rem;
        }
      }
      @media (max-width: 767px) {
        .hero-section {
          padding: 48px 0 28px 0;
        }
        .stepper .step {
          padding: 20px 4px;
        }
        .service-action-row {
          height: auto;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm py-2">
      <div class="container">
        <a class="navbar-brand" href="{{ url_for('home') }}">
          <i class="fas fa-seedling"></i> Plant Hospital
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarMenu"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarMenu">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('home') }}">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('about') }}">Introduction</a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link active"
                href="{{ url_for('expert_consultation') }}"
                >Expert consultation</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('ai_diagnosis') }}"
                >AI diseases diagnosis</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('pharmacy') }}">Pharmacy</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('contact') }}">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section position-relative">
      <img
        src="https://svgshare.com/i/13Kc.svg"
        class="hero-shape d-none d-md-block"
        alt=""
      />
      <div class="container hero-content">
        <h1 class="hero-title">
          Expert consultation <span style="color: #ffe082">for plants</span>
        </h1>
        <p class="hero-desc">
          Connect with leading plant protection experts, get online
          consultations, book home visits and get all your plant disease
          problems answered.
        </p>
        <div class="hero-btns">
          <button
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#questionModal"
          >
            <i class="fas fa-question-circle"></i> Ask a free question
          </button>
          <button
            class="btn btn-outline-light"
            data-bs-toggle="modal"
            data-bs-target="#visitModal"
          >
            <i class="fas fa-home"></i> Schedule a home consultation
          </button>
          <button
            class="btn btn-outline-light"
            data-bs-toggle="modal"
            data-bs-target="#chatModal"
          >
            <i class="fas fa-comments"></i> Chat online
          </button>
        </div>
      </div>
    </section>

    <!-- Dịch vụ tư vấn -->
    <section class="container py-5">
      <h2 class="text-center mb-4" style="color: #4caf50; font-weight: 700">
        <i class="fas fa-leaf"></i> Consulting service package
      </h2>
      <div class="row g-4">
        <!-- Gói 1 -->
        <div class="col-md-4">
          <div class="card service-card h-100 d-flex flex-column">
            <div class="card-body d-flex flex-column">
              <div class="service-icon">
                <i class="fas fa-question-circle"></i>
              </div>
              <h5 class="card-title">Ask a free question</h5>
              <div class="service-price">Free</div>
              <ul class="service-features">
                <li>
                  <i class="fas fa-check"></i> Response within 24-48 hours
                </li>
                <li><i class="fas fa-check"></i> Attach images</li>
                <li><i class="fas fa-check"></i> Consulting via email</li>
                <li>
                  <i class="fas fa-check"></i> Unlimited number of questions
                </li>
                <li><i class="fas fa-check"></i> Basic consulting</li>
              </ul>
              <div class="service-action-row mt-auto">
                <button
                  class="service-btn-unify service-btn-green"
                  data-bs-toggle="modal"
                  data-bs-target="#questionModal"
                >
                  Ask a question
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- Gói 2 -->
        <div class="col-md-4">
          <div class="card service-card h-100 d-flex flex-column">
            <div class="card-body d-flex flex-column">
              <div class="service-icon"><i class="fas fa-comments"></i></div>
              <h5 class="card-title">Chat directly with an expert</h5>
              <div class="service-price">50.000đ / 30 minutes</div>
              <ul class="service-features">
                <li><i class="fas fa-check"></i> Real-time chat</li>
                <li><i class="fas fa-check"></i> Send image directly</li>
                <li><i class="fas fa-check"></i> Personalized consulting</li>
                <li><i class="fas fa-check"></i> Save chat history</li>
              </ul>
              <div class="service-action-row mt-auto">
                <button
                  class="service-btn-unify service-btn-outline"
                  data-bs-toggle="modal"
                  data-bs-target="#chatModal"
                >
                  Start chat
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- Gói 3 -->
        <div class="col-md-4">
          <div class="card service-card h-100 d-flex flex-column">
            <div class="card-body d-flex flex-column">
              <div class="service-icon"><i class="fas fa-user-md"></i></div>
              <h5 class="card-title">Home consulting</h5>
              <div class="service-price">500.000đ / time</div>
              <ul class="service-features">
                <li><i class="fas fa-check"></i> Experts come to the garden</li>
                <li><i class="fas fa-check"></i> Overall plant check</li>
                <li>
                  <i class="fas fa-check"></i> Report, treatment instructions
                </li>
                <li>
                  <i class="fas fa-check"></i> Monitoring the treatment process
                </li>
              </ul>
              <div class="service-action-row mt-auto">
                <button
                  class="service-btn-unify service-btn-yellow"
                  data-bs-toggle="modal"
                  data-bs-target="#visitModal"
                >
                  Make an appointment
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Quy trình tư vấn -->
    <section class="container py-5">
      <h2 class="text-center mb-4" style="color: #4caf50">
        <i class="fas fa-route"></i> Consulting process
      </h2>
      <div class="row stepper justify-content-center">
        <div class="col-md-4 step">
          <div class="step-number">1</div>
          <div class="step-title">Send information about diseased plants</div>
          <div class="step-desc">
            Fill out the form with a description of the symptoms, attach a
            picture, and select the plant type.
          </div>
        </div>
        <div class="col-md-4 step">
          <div class="step-number">2</div>
          <div class="step-title">Expert responses</div>
          <div class="step-desc">
            Our team of experts analyze and send detailed feedback via email.
          </div>
        </div>
        <div class="col-md-4 step">
          <div class="step-number">3</div>
          <div class="step-title">Get treatment</div>
          <div class="step-desc">
            Get expert guidance on care, prevention, and treatment.
          </div>
        </div>
      </div>
    </section>

    <!-- Modals -->
    <!-- Đặt câu hỏi Modal -->
    <div
      class="modal fade"
      id="questionModal"
      tabindex="-1"
      aria-labelledby="modalQLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <form
            action="{{ url_for('submit_question') }}"
            method="POST"
            enctype="multipart/form-data"
          >
            <div class="modal-header">
              <h5 class="modal-title" id="modalQLabel">
                <i class="fas fa-question-circle"></i> Đặt câu hỏi miễn phí
              </h5>
              <button
                type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"
                aria-label="Đóng"
              ></button>
            </div>
            <div class="modal-body row">
              <div class="mb-3 col-md-6">
                <label class="form-label">Họ và tên *</label>
                <input type="text" class="form-control" name="name" required />
              </div>
              <div class="mb-3 col-md-6">
                <label class="form-label">Email *</label>
                <input
                  type="email"
                  class="form-control"
                  name="email"
                  required
                />
              </div>
              <div class="mb-3 col-md-6">
                <label class="form-label">Số điện thoại</label>
                <input type="tel" class="form-control" name="phone" />
              </div>
              <div class="mb-3 col-md-6">
                <label class="form-label">Loại cây trồng *</label>
                <select class="form-select" name="plant_type" required>
                  <option value="">Chọn loại cây</option>
                  <option value="rice">Lúa</option>
                  <option value="corn">Ngô</option>
                  <option value="tomato">Cà chua</option>
                  <option value="potato">Khoai tây</option>
                  <option value="other">Khác</option>
                </select>
              </div>
              <div class="mb-3 col-md-12">
                <label class="form-label">Mô tả chi tiết vấn đề *</label>
                <textarea
                  class="form-control"
                  name="question"
                  rows="4"
                  required
                  placeholder="Triệu chứng, biểu hiện, thời điểm phát hiện..."
                ></textarea>
              </div>
              <div class="mb-3 col-md-12">
                <label class="form-label"
                  >Hình ảnh cây bệnh (tối đa 5 ảnh)</label
                >
                <input
                  type="file"
                  class="form-control"
                  name="images"
                  accept="image/*"
                  multiple
                />
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-outline-secondary"
                data-bs-dismiss="modal"
              >
                Hủy
              </button>
              <button type="submit" class="btn btn-success">
                <i class="fas fa-paper-plane"></i> Gửi câu hỏi
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <!-- Đặt lịch tư vấn Modal -->
    <div
      class="modal fade"
      id="visitModal"
      tabindex="-1"
      aria-labelledby="modalVLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-md modal-dialog-centered">
        <div class="modal-content">
          <form action="{{ url_for('book_visit_vnpay') }}" method="POST">
            <div class="modal-header">
              <h5 class="modal-title" id="modalVLabel">
                <i class="fas fa-user-md"></i> Đặt lịch tư vấn tại nhà
              </h5>
              <button
                type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"
                aria-label="Đóng"
              ></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label class="form-label">Họ và tên *</label>
                <input
                  type="text"
                  class="form-control"
                  name="visit_name"
                  required
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Email *</label>
                <input
                  type="email"
                  class="form-control"
                  name="visit_email"
                  required
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Số điện thoại *</label>
                <input
                  type="tel"
                  class="form-control"
                  name="visit_phone"
                  required
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Địa chỉ *</label>
                <input
                  type="text"
                  class="form-control"
                  name="visit_address"
                  required
                />
              </div>
              <div class="mb-3 row">
                <div class="col-6">
                  <label class="form-label">Ngày hẹn *</label>
                  <input
                    type="date"
                    class="form-control"
                    name="visit_date"
                    required
                  />
                </div>
                <div class="col-6">
                  <label class="form-label">Giờ hẹn *</label>
                  <input
                    type="time"
                    class="form-control"
                    name="visit_time"
                    required
                  />
                </div>
              </div>
              <div class="mb-3">
                <label class="form-label">Diện tích vườn (m²)</label>
                <input type="text" class="form-control" name="garden_size" />
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-outline-secondary"
                data-bs-dismiss="modal"
              >
                Hủy
              </button>
              <button type="submit" class="btn btn-warning">
                <i class="fas fa-calendar-check"></i> Đặt lịch
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <!-- Chat Modal -->
    <div
      class="modal fade"
      id="chatModal"
      tabindex="-1"
      aria-labelledby="modalChatLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-md">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalChatLabel">
              <i class="fas fa-comments"></i> Chat với chuyên gia
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Đóng"
            ></button>
          </div>
          <div class="modal-body" style="padding: 0">
            <iframe
              src="{{ url_for('expert_chat') }}"
              style="
                width: 100%;
                height: 380px;
                border: 0;
                border-radius: 0 0 18px 18px;
              "
            ></iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- Chat Widget nhỏ ở góc -->
    <div class="chat-widget">
      <button
        class="btn"
        data-bs-toggle="modal"
        data-bs-target="#chatModal"
        title="Chat cùng chuyên gia"
      >
        <i class="fas fa-comment-dots"></i>
      </button>
    </div>

    <!-- Footer -->
    <footer class="footer mt-5">
      <div class="container">
        <div class="row align-items-center mb-2">
          <div class="col-md-4 mb-2 mb-md-0">
            <strong><i class="fas fa-seedling"></i> Plant Hospital</strong>
            <span class="ms-2">Plant care with experts</span>
          </div>
          <div class="col-md-4 mb-2 mb-md-0 text-center">
            <i class="fas fa-phone"></i> 0984 987 139 &nbsp;
            <i class="fas fa-envelope"></i> ms.dangthihienluong@gmail.com
          </div>
          <div class="col-md-4 text-end">
            <a
              href="https://facebook.com/dangthihienluong/"
              class="social-link"
              target="_blank"
              ><i class="fab fa-facebook"></i
            ></a>
            <a
              href="https://x.com/Hien_Luong_pre"
              class="social-link"
              target="_blank"
              ><i class="fab fa-twitter"></i
            ></a>
            <a
              href="https://www.instagram.com/hien_luong_05/"
              class="social-link"
              target="_blank"
              ><i class="fab fa-instagram"></i
            ></a>
          </div>
        </div>
        <div class="text-center py-2" style="font-size: 0.96rem; color: #aaa">
          &copy; 2025 Plant Hospital. All rights reserved.
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
